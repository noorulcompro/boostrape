<!DOCTYPE html>
<html>
<head>
	<title>Bar Chart</title>
</head>
<body>

<!-- <canvas id="myCanvas" width="100%" height="130" style="border: 1px solid #c3c3c3"></canvas> -->
<svg width="200px" height="200px" viewBox="0 0 42 42" class="donut">
  <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="#fff"></circle>
  <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#d2d3d4" stroke-width="3"></circle>

  <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ffff00" stroke-width="3" stroke-dasharray="34 66" stroke-dashoffset="95"></circle>
  <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ffffff" stroke-width="3" stroke-dasharray="1 99" stroke-dashoffset="60"></circle>
<!-- <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#b1c94e" stroke-width="3" stroke-dasharray="20 80" stroke-dashoffset="59"></circle>
 <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ffffff" stroke-width="3" stroke-dasharray="1 99" stroke-dashoffset="39"></circle>
 <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#b1c94e" stroke-width="3" stroke-dasharray="30 70" stroke-dashoffset="38"></circle>
  <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ffffff" stroke-width="3" stroke-dasharray="1 99" stroke-dashoffset="8"></circle>
  <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#b1c94e" stroke-width="3" stroke-dasharray="6 96" stroke-dashoffset="9"></circle>
  <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ffffff" stroke-width="3" stroke-dasharray="1 99" stroke-dashoffset="1"></circle> -->

</svg>

<!-- <figure>
  <div class="figure-content">
    <svg width="200px" height="200px" viewBox="0 0 42 42" class="donut" aria-labelledby="beers-title beers-desc" role="img">
      <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="#fff" role="presentation"></circle>
      <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#d2d3d4" stroke-width="3" role="presentation"></circle>

      <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ce4b99" stroke-width="3" stroke-dasharray="40 60" stroke-dashoffset="25" aria-labelledby="donut-segment-1-title donut-segment-1-desc">
      </circle>
      <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#b1c94e" stroke-width="3" stroke-dasharray="20 80" stroke-dashoffset="85">
      </circle>
      <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#377bbc" stroke-width="3" stroke-dasharray="30 70" stroke-dashoffset="65">
      </circle>
      <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#377bbc" stroke-width="3" stroke-dasharray="30 70" stroke-dashoffset="65">
      </circle>
    </svg>
  </div>
  <figcaption class="figure-key">
    <ul class="figure-key-list" aria-hidden="true" role="presentation">
      <li>
        <span class="shape-circle shape-fuschia"></span> Belgian Quadrupels (4)
      </li>
      <li>
        <span class="shape-circle shape-lemon-lime"></span> Imperial India Pale Ales (2)
      </li>
      <li>
        <span class="shape-circle shape-blue"></span> Russian Imperial Stouts (3)
      </li>
    </ul>
  </figcaption>
</figure> -->

<!-- <svg class="chart" width="500" height="200" aria-labelledby="title desc" role="img" style="border:1px solid">
  <title id="title">A bar chart showing information</title>
  <desc id="desc">4 apples; 8 bananas; 15 kiwis; 16 oranges; 23 lemons</desc>
  <g class="bar">
    <rect width="20" height="50" x="50" y="150"></rect>
    <text x="50" y="140" dy=".35em">M</text>
  </g>
  <g class="bar">
    <rect width="20" height="50" x="100" y="150"></rect>
    <text x="100" y="140" dy=".35em">M</text>
  </g>
  <g class="bar">
    <rect width="20" height="50" x="150" y="150"></rect>
    <text x="150" y="140" dy=".35em">M</text>
  </g>
  <g class="bar">
    <rect width="20" height="50" x="200" y="150"></rect>
    <text x="200" y="140" dy=".35em">M</text>
  </g>
  <g class="bar">
    <rect width="20" height="50" x="250" y="150"></rect>
    <text x="250" y="140" dy=".35em">M</text>
  </g>
</svg> -->


<script type="text/javascript">
	var Piechart = function(options){
	    this.options = options;
	    this.canvas = options.canvas;
	    this.ctx = this.canvas.getContext("2d");
	    this.colors = options.colors;
	 
	    this.draw = function(){
	        var total_value = 0;
	        var color_index = 0;
	        for (var categ in this.options.data){
	            var val = this.options.data[categ];
	            total_value += val;
	        }
	 
	        var start_angle = 0;
	        for (categ in this.options.data){
	            val = this.options.data[categ];
	            var slice_angle = 2 * Math.PI * val / total_value;
	 
	            drawPieSlice(
	                this.ctx,
	                this.canvas.width/2,
	                this.canvas.height/2,
	                Math.min(this.canvas.width/2,this.canvas.height/2),
	                start_angle,
	                start_angle+slice_angle,
	                this.colors[color_index%this.colors.length]
	            );
	 
	            start_angle += slice_angle;
	            color_index++;
	        }
	 
	        //drawing a white circle over the chart
	        //to create the doughnut chart
	        if (this.options.doughnutHoleSize){
	            drawPieSlice(
	                this.ctx,
	                this.canvas.width/2,
	                this.canvas.height/2,
	                this.options.doughnutHoleSize * Math.min(this.canvas.width/2,this.canvas.height/2),
	                0,
	                2 * Math.PI,
	                "white"
	            );
	        }

	        for (categ in this.options.data){
	            val = this.options.data[categ];
	            slice_angle = 2 * Math.PI * val / total_value;
	            var pieRadius = Math.min(this.canvas.width/2,this.canvas.height/2);
	            var labelX = this.canvas.width/2 + (pieRadius / 2) * Math.cos(start_angle + slice_angle/2);
	            var labelY = this.canvas.height/2 + (pieRadius / 2) * Math.sin(start_angle + slice_angle/2);
	         
	            if (this.options.doughnutHoleSize){
	                var offset = (pieRadius * this.options.doughnutHoleSize ) / 2;
	                labelX = this.canvas.width/2 + (offset + pieRadius / 2) * Math.cos(start_angle + slice_angle/2);
	                labelY = this.canvas.height/2 + (offset + pieRadius / 2) * Math.sin(start_angle + slice_angle/2);               
	            }
	         
	            var labelText = Math.round(100 * val / total_value);
	            this.ctx.fillStyle = "white";
	            this.ctx.font = "bold 20px Arial";
	            this.ctx.fillText(labelText+"%", labelX,labelY);
	            start_angle += slice_angle;
	        }
	 
	    }
	}

	function drawPieSlice(ctx,centerX, centerY, radius, startAngle, endAngle, color ){
	    ctx.fillStyle = color;
	    ctx.beginPath();
	    ctx.moveTo(centerX,centerY);
	    ctx.arc(centerX, centerY, radius, startAngle, endAngle);
	    ctx.closePath();
	    ctx.fill();
	}

	function drawLine(ctx, startX, startY, endX, endY){
	    ctx.beginPath();
	    ctx.moveTo(startX,startY);
	    ctx.lineTo(endX,endY);
	    ctx.stroke();
	}

	var myVinyls = {
	    "Classical music": 10,
	    "Alternative rock": 14,
	    "Pop": 2,
	    "Jazz": 12,
	    "Hazz": 10
	};


	var myDougnutChart = new Piechart(
	    {
	        canvas: document.getElementById("myCanvas"),
	        data:myVinyls,
	        colors:["#fde23e","#f16e23", "#57d9ff","#937e88", "#cccccc"],
	        doughnutHoleSize:0.5
	    }
	);
	myDougnutChart.draw();





	var values = [100,55,66,22,88]
	function draw(){
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");

		var width = 40;
		var X = 50;
		var base = 200;
		let i =0;
		for(var val of values){
			ctx.fillStyle = "#000000";
			ctx.fillText("Bar"+i++, X-5, canvas.height);
			ctx.fillStyle = "#cccccc";
			ctx.fillRect(X-10, canvas.height-val-10, width, val);

			X += width+15;
		}
		ctx.fillStyle = '#cccccc';
		ctx.fillText('Scale X : '
		+canvas.width+' Y : '+canvas.height,800,10);
	}


</script>


</body>
</html>